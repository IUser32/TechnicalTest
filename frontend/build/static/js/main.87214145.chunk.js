(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,a){e.exports=a(76)},42:function(e,t,a){},44:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},45:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(12),i=a.n(r),o=(a(42),a(7)),l=a(8),c=a(10),d=a(9),m=a(11),u=(a(44),a(45),a(13)),h=a.n(u),v=a(14),E=a(15),p=a.n(E),b=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={movies:[],clients:[],selectedMovieOption:null,selectedClientOption:null,description:"",cost:0,rentdate:"",estimateddate:"",onSuccess:!1,onError:!1,errorMessage:""},a.handleMovieChange=function(e){a.setState({selectedMovieOption:e,onError:!1,errorMessage:""})},a.handleClientChange=function(e){a.setState({selectedClientOption:e,onError:!1,errorMessage:""})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onDescriptionChange",value:function(e){this.setState({description:e.target.value,onError:!1,errorMessage:""})}},{key:"onCostChange",value:function(e){this.setState({cost:e.target.value,onError:!1,errorMessage:""})}},{key:"onRentdateChange",value:function(e){this.setState({rentdate:e.target.value,onError:!1,errorMessage:""})}},{key:"onEstimatedDateChange",value:function(e){this.setState({estimateddate:e.target.value,onError:!1,errorMessage:""})}},{key:"validateModel",value:function(){return""==this.state.description?(this.setState({onError:!0,errorMessage:"Should have a description."}),!1):""==this.state.cost?(this.setState({onError:!0,errorMessage:"Should have a cost."}),!1):""==this.state.rentdate?(this.setState({onError:!0,errorMessage:"Should have a rent date."}),!1):""==this.state.estimateddate?(this.setState({onError:!0,errorMessage:"Should have an return date."}),!1):""==this.state.selectedMovieOption?(this.setState({onError:!0,errorMessage:"Should have a movie."}),!1):""!=this.state.selectedClientOption||(this.setState({onError:!0,errorMessage:"Should have a client."}),!1)}},{key:"onSubmitClicked",value:function(e){var t=this;if(this.validateModel()){var a={description:this.state.description,cost:this.state.cost,rent_date:this.state.rentdate,estimated_date:this.state.estimateddate,returned:0,client:this.state.selectedClientOption.value,movie:this.state.selectedMovieOption.value},n={"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")};h.a.post("http://127.0.0.1:8000/api/rentmovie/create/",a,{headers:n}).then(function(e){t.setState({onError:!1,onSuccess:!0,errorMessage:""})}).catch(function(e){t.setState({onError:!0,errorMessage:e.response.data[0]})})}}},{key:"componentWillMount",value:function(){var e=this;h.a.get("http://127.0.0.1:8000/api").then(function(t){var a=[];null!=t.data&&t.data.forEach(function(e){a.push({value:e.id,label:e.title})}),e.setState({movies:a})}),h.a.get("http://127.0.0.1:8000/api/client/").then(function(t){var a=[];null!=t.data&&t.data.forEach(function(e){a.push({value:e.id,label:e.full_name})}),e.setState({clients:a})})}},{key:"render",value:function(){var e=this.state,t=e.selectedMovieOption,a=e.selectedClientOption,n=s.a.createElement("div",null," ");return this.state.onSuccess?n=s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-success"},"Movie has been rented successful!"))):this.state.onError&&(n=s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-danger"},this.state.errorMessage)))),s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"page-header"},s.a.createElement("h4",null,"Rent a Movie")),n,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("label",{id:"description"},"Description"),s.a.createElement("input",{type:"text",id:"description",name:"description",value:this.state.description,onChange:this.onDescriptionChange.bind(this),placeholder:"Here your description...",className:"form-control"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"user"},"Client"),s.a.createElement(v.a,{value:a,onChange:this.handleClientChange,options:this.state.clients,name:"user",id:"user"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"movie"},"Movie"),s.a.createElement(v.a,{value:t,onChange:this.handleMovieChange,options:this.state.movies,name:"movie",id:"movie"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"rentdate"},"Rent Date"),s.a.createElement("input",{type:"date",id:"rentdate",name:"rentdate",className:"form-control",value:this.state.rentdate,onChange:this.onRentdateChange.bind(this)})),s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"estimateddate"},"Estimated Date"),s.a.createElement("input",{type:"date",id:"estimateddate",name:"estimateddate",className:"form-control",value:this.state.estimateddate,onChange:this.onEstimatedDateChange.bind(this)}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"cost"},"Cost"),s.a.createElement("input",{type:"number",id:"cost",name:"cost",className:"form-control",min:"0",max:"999",value:this.state.cost,onChange:this.onCostChange.bind(this)}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 text-right",style:{marginTop:"5px"}},s.a.createElement("a",{href:"#",className:"btn btn-danger"},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:this.onSubmitClicked.bind(this)},"Submit")))))}}]),t}(n.Component),g=a(19),f=a.n(g),M=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={rentMovies:[],selectedRentMovieOption:null,cost:0,extraCost:0,returned:!1,estimateddate:"",onSuccess:!1,onError:!1,errorMessage:""},a.handleMovieChange=function(e){var t=0;e.estimated_date.split("-");f()(e.estimated_date,"YYYY-MM-DD")<f()().toDate()&&(t=.05*e.cost),a.setState({selectedRentMovieOption:e,estimateddate:e.estimated_date,onError:!1,errorMessage:"",extraCost:t,cost:e.cost,returned:e.returned})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"onSubmitClicked",value:function(e){var t=this,a={cost:parseFloat(this.state.cost+this.state.extraCost).toFixed(2),returned:!0,client:this.state.selectedRentMovieOption.client,estimated_date:this.state.selectedRentMovieOption.estimated_date,movie:this.state.selectedRentMovieOption.movie,rent_date:this.state.selectedRentMovieOption.rent_date},n={"Content-Type":"application/json","X-CSRFToken":p.a.get("csrftoken")};h.a.put("http://127.0.0.1:8000/api/rentmovie/return/"+this.state.selectedRentMovieOption.value,a,{headers:n}).then(function(e){t.setState({onError:!1,onSuccess:!0,errorMessage:""})}).catch(function(e){t.setState({onError:!0,errorMessage:e.response.data[0]})})}},{key:"componentWillMount",value:function(){var e=this;h.a.get("http://127.0.0.1:8000/api/rentmovie/").then(function(t){var a=[];null!=t.data&&t.data.forEach(function(e){e.value=e.id,e.label=e.description,a.push(e)}),e.setState({rentMovies:a})})}},{key:"render",value:function(){var e=this.state.selectedRentMovieOption,t=s.a.createElement("div",null," ");return this.state.onSuccess?t=s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-success"},"Movie has been returned successful!"))):this.state.onError&&(t=s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12"},s.a.createElement("div",{className:"alert alert-danger"},this.state.errorMessage)))),s.a.createElement("div",null,s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"page-header"},s.a.createElement("h4",null,"Return a Movie")),t,s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-6"},s.a.createElement("label",{id:"user"},"Rents"),s.a.createElement(v.a,{value:e,onChange:this.handleMovieChange,options:this.state.rentMovies,name:"rentMovie",id:"rentMovie"}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-3"},s.a.createElement("label",{id:"estimateddate"},"Estimated Date"),s.a.createElement("input",{type:"date",id:"estimateddate",name:"estimateddate",className:"form-control",disabled:"disabled",value:this.state.estimateddate})),s.a.createElement("div",{className:"col-sm-3"},s.a.createElement("label",{id:"cost"}," Cost"),s.a.createElement("input",{type:"number",id:"cost",name:"cost",className:"form-control",min:"0",max:"999",disabled:"disabled",value:this.state.cost})),s.a.createElement("div",{className:"col-sm-3"},s.a.createElement("label",{id:"cost"},"Extra Cost"),s.a.createElement("input",{type:"number",id:"cost",name:"cost",className:"form-control",min:"0",max:"999",disabled:"disabled",value:this.state.extraCost})),s.a.createElement("div",{className:"col-sm-3"},s.a.createElement("label",{id:"cost"},"\xbfRetornada?")," ",s.a.createElement("br",null),s.a.createElement("input",{type:"checkbox",id:"returned",name:"returned",disabled:"disabled",checked:this.state.returned}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-sm-12 text-right",style:{marginTop:"5px"}},s.a.createElement("a",{href:"#",className:"btn btn-danger"},"Cancel"),s.a.createElement("button",{type:"submit",className:"btn btn-success",onClick:this.onSubmitClicked.bind(this)},"Submit")))))}}]),t}(n.Component),C=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h2",null,"Home"))}}]),t}(n.Component),N=a(80),O=a(78),S=a(79),y=function(e){var t=e.label,a=e.to,n=e.activeOnlyWhenExact;return s.a.createElement(N.a,{path:a,exact:n,children:function(e){e.match;return s.a.createElement("li",null,s.a.createElement(O.a,{to:a},t))}})},k=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement(S.a,null,s.a.createElement("div",null,s.a.createElement("nav",{className:"navbar navbar-inverse"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"navbar-header"},s.a.createElement("a",{className:"navbar-brand",href:"#"},"RentMovie")),s.a.createElement("ul",{className:"nav navbar-nav"},s.a.createElement(y,{activeOnlyWhenExact:!0,to:"/",label:"Home"}),s.a.createElement(y,{to:"/rent",label:"Rent"}),s.a.createElement(y,{to:"/return",label:"Return"})))),s.a.createElement("div",null,s.a.createElement(N.a,{exact:!0,path:"/",component:C}),s.a.createElement(N.a,{exact:!0,path:"/rent",component:b}),s.a.createElement(N.a,{path:"/return",component:M}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,2,1]]]);
//# sourceMappingURL=main.87214145.chunk.js.map